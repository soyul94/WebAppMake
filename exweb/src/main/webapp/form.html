<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>웹브라우저에서 요청을 전송하는 방법</title>
</head>
<body>
<!-- 
	웹브라우저에서 요청을 보내는 방법 
	1. 웹브라우저 주소창에 요청주소를 직접 입력한다.
	2. 링크 엘리먼트(<a></a>태그)를 클릭하여 요청 전송

-->
<h1>웹브라우저에서 요청을 보내는 방법</h1> <br>
<h4>1. 웹브라우저 주소창에 요청주소를 직접 입력한다.</h4>
<h4>2. 링크 엘리먼트(<a></a>태그)를 클릭하여 요청 전송</h4>
<a href="http://localhost:8000/exweb/hello.do">Hello 서블릿 실행</a><br>
현재문서의 주소와 요청을 보내는 서버 주소가 동일하면 생략 가능<br>
<a href="/exweb/hello.do">Hello 서블릿 실행</a><br>  <!-- 주소가 /로 시작하면 해당 컴퓨터의 최상위 폴더라고 생각하고 앞에 로컬을 붙임  -->
현재문서와 폴더 경로가 동일하면 생략가능<br>
<a href="hello.do">Hello 서블릿 실행</a><br><br>

<hr/>
<h4>3.폼 엘리먼트를 제출(전송)하여 요청 전송</h4><!-- 폼도 링크와 마찬가지로 경우에 맞게 주소 축약가능 -->	
type="submit"인 input엘리먼트를 클릭하면 <br>
폼 내부의 입력엘리먼트 값들을 파라미터로 포함하여 <br>
form엘리먼트의 action 속성값으로 지정한 주소로 이동(요청전송)<br>
<form action= "login.do">
	아이디 	: <input type = "text" name="ID"><br>
	비밀번호	: <input type = "text" name="PW"><br>
	<input type="submit">
</form><br>
이 폼 엘리먼트를 사용하는 것이 매우 중요하다<br>
보안이 중요하거나 너무 긴데이터는 이렇게 주소창에 입력하는 파라미터를 사용하는 것이 어렵다.<br>
이런경우 감춰 보내는 법이 필요하다 <br><br>

요청방식(=HTTP Method=HTTP Command) : GET, POST, PUT, DELETE 등등...
-GET http://googlel.com/index.html 		<br>
 : 파라미터를 주소에 붙여서 전송. 주소창에 주소를 직접 입력, 링크(a)를 클릭한 경우, method 지정을 생략한 form을 submit한 경우(디폴트값임)<br>
-POST http://googlel.com/index.html  	<br>
: 파라미터를 요청메시지의 바디(내용)에 담아서 전송. method="post"로 지정한 form을 submit한 경우<br>
-PUT http://googlel.com/index.html  		:<br>
-DELETE http://googlel.com/index.html	:  <br>
<br><br>
<form action= "login.do" method="get">
	아이디 	: <input type = "text" name="ID"/><br>
	비밀번호	: <input type = "text" name="PW"/><br>
	<input type="submit">
</form><br><br>

<form action= "login.do" method="post">
	아이디 	: <input type = "text" name="ID"/><br>
	비밀번호	: <input type = "text" name="PW"/><br>
	<input type="submit">
</form>
<hr/><br>

<h4>4. 자바스크립트 명령어를 사용하여 요청 전송</h4>
<br><hr/><br>

<a href ="temp/link.html">상대경로로 링크테스트 문서로 이동</a><br>
<a href ="./temp/link.html">상대경로로 링크테스트 문서로 이동</a><br>
경로 지정시 .은 현재디렉토리, ..은 부모디렉토리를 의미 ->이는 운영체제 공통 표현<br>
<a href ="https://soharu.tistory.com/11">상대경로와 절대경로가 헷갈린다면 클릭해보시오</a><br><br>

클래스명.do 파일들은 webapp바로 밑에 존재한다. /welcome.do 맨 앞의 /가 webapp 폴더를 의미함.
<br><br>

<hr/><br><br>
get 방식으로 파라미터 전송.
<form action= "welcome.do" method="get">
	이름 	: <input type = "text" name="user"/><input type="submit"/>
</form><br>
post 방식으로 파라이터 전송.
<form action= "welcome.do" method="post">
	이름 	: <input type = "text" name="user"/><input type="submit"/>
</form><br>
post방식은 한글이 전송안되나 ? 넹 한글은 안됩니다 !<br>
- get방식으로 전송된 한글파라미터 값 인코딩 설정 
: 톰캣 설정파일에 server.xml 파일에 <Connector port="사용포트명" WRIEncoding="UTF-8"> 입력
  but 톰캣 7이후에는 이 설정이 필요 없이 디폴트가 되어 get파라미터는 한글이 정상 출력되는 것.<br>
- post방식으로 전송된 한글 파라미터 값 인코딩 설정
 : 실행할 selvet코드에서 req.setCharacterEncoding("UTF-8") 파라미터 값을 읽기 전에, 요청객체의 문자인코딩방식을 설정
<br>
<hr/>
<br>
정수 2개와 연산자를 선택하고 submit 버튼을 클릭하면, AddInt.java에서 작성한 AddServlet을 실행<br>
form을 추가하고, AddSerclet을 변경<br>
연산자는 더하기와 곱하기 중 하나를 선택하고 더하기를 선택하면 op=p, 곱하기를 선택하면 op=m이라고 파라미터 전송<br><br>
<form action= "add.do" method="post">
	number_1 	: <input type = "text" name="X"/><br>
	number_2	: <input type = "text" name="Y"/><br>
	operator	: <input type = "text" name="op"/> 덧셈은 '+' 곱셈은 '*'<br>	
	<input type="submit"> post방식 
</form><br>
<br>
<form action= "add.do" method="get">
	number_1 	: <input type = "text" name="X"/><br>
	number_2	: <input type = "text" name="Y"/><br>
	operator	: <select name="op"><option value="+">더하기</option><option value="*">곱하기</option></select>
	<!-- operator	: <input type = "text" name="op"/> 덧셈은 '+' 곱셈은 '*'<br>	 -->
	<input type="submit"> get 방식
</form><br>
// 주소창에 직접 +를 입력하면 인식이 되지 않음. +는 주소창에서 의미있는 기호기 때문에. 그러나 input태그에 입력하면 알아서 변환해줘서 작동함.
<hr/>
<br>
주문자 이름을 입력하고,<br>
피자, 햄버거, 돈까스, 딸기주스, 키위주스 중 주문하고 싶은 음식을 모두 선택하고 submit 버튼을 클릭하면,<br>
화면에 선택한 음식의 리스트가 다음과 같이 출력되도록 구현<br>
------------------------------<br>
 * 음식명 <-이거 ul li태그로 작성하기 <br>
  ... <br>
  주문자님은 총 n개의 음식을 주문했습니다.<br>
 ------------------------------<br>
 주문자 이름 -> user=이름<br>
 피자-> order=p001 햄버거-> order=p002 돈까스-> order=p003 딸기주스-> order=p101 키위주스-> order=p102<br>
 요청주소는 /order.do 서블릿 클래스 이름은 OrderSerclet. 전송방식을 post <br>
 <form action= "order.do" method="post">
	 <fieldset>
		 <h4>원하시는 메뉴를 모두 선택해 주세요.</h4>
		 <label>주문자 이름 : <input type="text" name=user></label>
		 <br>
		 <label><input type="checkbox" name="ord" value="p001"/> 피자</label>
		 <label><input type="checkbox" name="ord" value="p002"/> 햄버거</label>
		 <label><input type="checkbox" name="ord" value="p003"/> 돈까스</label>
		 <label><input type="checkbox" name="ord" value="p101"/> 딸기주스</label>
		 <label><input type="checkbox" name="ord" value="p102"/> 키위주스</label>
		 <br><br>
		 <input type="submit"/>
		 <br>
	 </fieldset>
 </form>
<hr/>
<br>
곰, 독수리, 개 중 하나를 선택하고 submit 버튼을 클릭하면 PhotoServlet이 실행되어 화면에 선택한 동물의 사진이 출력되도록 form을 구현<br>
<form action= "./photo.do" method="post">
	동물 이름 	: <select name="img">
					<option value="bear">곰</option>
					<option value="eagle">독수리</option>
					<option value="dog">강아지</option>
			  </select>
	<input type="submit"> post 방식
</form><br>


</body>
</html>